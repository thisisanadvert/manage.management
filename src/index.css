@import './styles/accessibility.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tooltip Visibility Fixes - Critical for User Experience */
.tooltip-content {
  background-color: rgb(17 24 39) !important; /* gray-900 */
  color: rgb(255 255 255) !important; /* white */
  z-index: 1000 !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
}

.tooltip-arrow {
  background-color: rgb(17 24 39) !important; /* gray-900 */
  z-index: 999 !important;
}

/* Ensure tooltips are always visible above other content */
[role="tooltip"] {
  z-index: 1000 !important;
  position: relative !important;
}

/* Legal Guidance Tooltip Fixes */
.legal-guidance-tooltip {
  background-color: rgb(255 255 255) !important; /* white */
  color: rgb(17 24 39) !important; /* gray-900 */
  border: 1px solid rgb(229 231 235) !important; /* gray-200 */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  z-index: 1000 !important;
}

/* Ensure legal guidance tooltip content is readable */
.legal-guidance-tooltip h3,
.legal-guidance-tooltip h4,
.legal-guidance-tooltip p,
.legal-guidance-tooltip span,
.legal-guidance-tooltip div {
  color: inherit !important;
}

/* Fix legal guidance tooltip buttons */
.legal-guidance-tooltip button {
  background-color: rgb(249 250 251) !important; /* gray-50 */
  color: rgb(75 85 99) !important; /* gray-600 */
  border: 1px solid rgb(229 231 235) !important; /* gray-200 */
}

.legal-guidance-tooltip button:hover,
.legal-guidance-tooltip button:focus {
  background-color: rgb(243 244 246) !important; /* gray-100 */
  color: rgb(55 65 81) !important; /* gray-700 */
}

/* Additional tooltip visibility fixes */
/* Ensure all absolute positioned tooltips are visible */
.absolute.bottom-full.left-0.mb-2.z-\[1000\] {
  z-index: 1000 !important;
}

.absolute.bottom-full.left-0.mb-2.z-\[1000\] > div {
  background-color: rgb(255 255 255) !important; /* white */
  color: rgb(17 24 39) !important; /* gray-900 */
  border: 1px solid rgb(229 231 235) !important; /* gray-200 */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  z-index: 1000 !important;
}

/* Fix click-based tooltip visibility */
.absolute.bottom-full.left-0.mb-2 {
  z-index: 1000 !important;
}

/* Ensure tooltip content is always readable */
.absolute.bottom-full.left-0.mb-2 h3,
.absolute.bottom-full.left-0.mb-2 h4,
.absolute.bottom-full.left-0.mb-2 p,
.absolute.bottom-full.left-0.mb-2 span,
.absolute.bottom-full.left-0.mb-2 div {
  color: inherit !important;
}

/* Fix mandatory indicators */
.text-red-600 {
  color: rgb(220 38 38) !important; /* red-600 */
}

/* Comprehensive tooltip visibility override */
/* This ensures ALL tooltips are visible regardless of implementation */
div[class*="absolute"][class*="bottom-full"],
div[class*="absolute"][class*="top-full"],
div[class*="absolute"][class*="left-full"],
div[class*="absolute"][class*="right-full"] {
  z-index: 1000 !important;
}

/* Ensure tooltip content containers are visible */
div[class*="absolute"][class*="bottom-full"] > div,
div[class*="absolute"][class*="top-full"] > div,
div[class*="absolute"][class*="left-full"] > div,
div[class*="absolute"][class*="right-full"] > div {
  background-color: rgb(255 255 255) !important;
  color: rgb(17 24 39) !important;
  border: 1px solid rgb(229 231 235) !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  z-index: 1000 !important;
}

/* Force visibility for any hidden tooltips */
.absolute[style*="display: none"] {
  display: block !important;
}

/* Ensure tooltip triggers are clickable */
button[aria-label*="guidance"],
button[aria-label*="tooltip"],
button[aria-label*="help"] {
  pointer-events: auto !important;
  z-index: 999 !important;
}

/* Hide number input spinners across all browsers */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

@font-face {
  font-family: 'PixelFont';
  src: url('https://fonts.cdnfonts.com/css/press-start-2p') format('woff2');
  font-weight: normal;
  font-style: normal;
}

.pixel-font {
  font-family: 'Press Start 2P', system-ui;
  letter-spacing: -1px;
}

@keyframes pulse-border {
  0% {
    border-color: rgba(34, 197, 94, 0.2);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.2);
  }
  50% {
    border-color: rgba(34, 197, 94, 0.6);
    box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.2);
  }
  100% {
    border-color: rgba(34, 197, 94, 0.2);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.2);
  }
}

.animate-border-pulse {
  animation: pulse-border 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}